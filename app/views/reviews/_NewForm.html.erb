<%= form_with(model: review, url: [@classnote, review]) do |form| %>
  <% if review.errors.any? %>
    <div style="color: red">
      <h2><%= pluralize(review.errors.count, "error") %> prohibited this review from being saved:</h2>

      <ul>
        <% review.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div>
    <%= form.hidden_field :user_id, value: current_user.id %>
  </div>

  <div>
    <%= form.label :comment, style: "display: block" %>
    <%= form.text_area :comment %>
  </div>

  <%= form.label :rating, style: "display: block"%>
  <div class="rating"><!--
  --><input name="review[rating]" id="e5" type="radio" value="5"><label for="e5">★</label><!--
  --><input name="review[rating]" id="e4" type="radio" value="4"><label for="e4">★</label><!--
  --><input name="review[rating]" id="e3" type="radio" value="3"><label for="e3">★</label><!--
  --><input name="review[rating]" id="e2" type="radio" value="2"><label for="e2">★</label><!--
  --><input name="review[rating]" id="e1" type="radio" value="1"><label for="e1">★</label>
  </div>

  <div>
    <%= form.submit %>
  </div>
<% end %>
	
<style>
  body {
    background: #FDFDFD;
    font-family: "Segoe WP","Segoe UI", Helvetica, Arial, sans-serif;
    text-align:center;
  }
  h1, h2 {
    color: #888;
    margin:0;
    font-weight:normal;
  }
  h1{ padding-top: 1.5em; padding-bottom: 2em; } 
  h2 {
    clear:both;
    color: #aaa;
    padding: 2em 0 0.3em
  }
  em {
    display: block;
    margin: .5em auto 2em;
    color: #bbb;
  }

  p, p a { 
    color: #aaa;
    text-decoration: none;
  }
  p a:hover,
  p a:focus {
    text-decoration: underline;
  }
  p + p { color: #bbb; margin-top: 2em;}
  .detail {position: absolute; text-align: right; right: 5px; bottom: 5px; width: 50%;}
  
  a[href*="intent"] {
    display:inline-block;
    margin-top: 0.4em;
  }

  /*  
    * Rating styles
    */
  .rating {
    width: fit-content;
    margin: 0 auto 1em;
    font-size: 30px;
    overflow:hidden;
  }
  .rating input {
    float: right;
    opacity: 0;
    position: absolute;
  }
  .rating a,
  .rating label {
    float:right;
    color: #aaa;
    text-decoration: none;
    -webkit-transition: color .4s;
    -moz-transition: color .4s;
    -o-transition: color .4s;
    transition: color .4s;
  }
  .rating label:hover ~ label,
  .rating input:focus ~ label,
  .rating label:hover,
  .rating a:hover,
  .rating a:hover ~ a,
  .rating a:focus,
  .rating a:focus ~ a		{
    color: orange;
    cursor: pointer;
  }
  .rating2 {
    direction: rtl;
  }
  .rating2 a {
    float:none
  }
</style>